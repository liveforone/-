# Fetch Join

## 페치조인
* 쿼리의 성능 최적화로 아주 안성 맞춤인 기능이 페치조인이다.
* 많은 경우 페치조인으로 문제를 해결할 수 있지만 그렇지 못한 상황도 발생한다.

## 페치조인이 불가능하거나 해서는 안되는 경우
* 페치조인은 둘 이상의 컬렉션 조회가 불가능하다.
* [컬렉션]란 OneToMany 관계에 있는 것을 의미한다.
* 그래서 조인을 할때 ManyToOne, OneToOne 즉 , ToOne 관계만 조인하고 페치조인 하는것이 이롭다.
* 혹시라도 컬렉션을 조회 할 경우 둘이상의 컬렉션은 페치조인이 불가능하다.
* 페이징 할 때에는 페치조인 쓰지말자
* 혹여라도 조인 한번과 select 두번을 고민한다면
* 조인 한번이 성능상 더 우위를 가지는 점을 기억하라.(페치에 목숨걸지는 말자라는 의미)
* 여러 테이블을 조인해서 엔티티가 가진 모양이 아닌 전혀 다른 결과를 내야하면
* 페치조인보다는 일반 조인을 사용하고, 필요한 데이터들만 조회해서 dto로 반환하는것이 효과적

## 결론
* ToOne 관계의 경우 별칭을 거는 것도 큰 문제가 되지 않는다.
* 다만 이때 페이징이 불가능해지는 문제가 발생한다.
* 이 경우에는 전역에 batch_fetch_size를 걸어서 in 쿼리를 날려주면 된다.
