# Util 클래스
> 장단점이 있는 유틸클래스

## Util 클래스란?
* 전역에서 반복되고 중복되는 값을 리턴하거나(Httpheader) 체크하는(null-check) 편의 메소드를 담은 클래스이다.
* 전역으로 쓰일땐 CommonUtils와 
* entity <-> dto 상호 변환 메소드 등이 담긴 XxMapper 클래스
* XxUtils 라고 하는 하나의 엔티티에 종속되어 쓰이는 편의메소드를 담은 클래스를 의미한다.
* 이 클래스들은 서비스 로직에서 트랜잭션이 걸리지 않는 로직을 담아 모듈화 하고
* 전역으로 사용할 수 있는 편의메소드를 모듈화하는 역할을 담당한다.
* 모듈화에 집중하는 나에게는 더할 나위없이 좋은 클래스이다.
* 이 클래스 안의 메소드는 정적(static)으로 선언된다..

## 주의사항
* static 메소드를 사용하는 것에대해 않좋은 이야기들이 많다.
* 그런데 static 메소드는 유틸 클래스에서는 너무나도 필수적이다.
* 메소드는 인스턴스 메소드와 클래스메소드(static)이 있는데,
* 인스턴스 메소드는 클래스내의 인스턴스(필드)를 활용하는 메소드이다.
* 이 경우에는 원하는 클래스에서 @RequiredArgsConstructor를 이용하여 의존성을 주입해서 사용하면된다.
* 그게 아니라 메소드만 담고 있고 그 메소드를 다른 클래스에서 사용하는 경우(지금이 이경우에 해당)
* static 메소드를 사용하면 된다.
* 특히 이런 static 메소드는 많은 곳에 공유되고, 반복호출되는 경우에 사용하면 좋은 효과를 가져온다.
* [참조링크1](https://devroy.tistory.com/22)
* [참조링크2](https://tecoble.techcourse.co.kr/post/2020-07-16-static-method/)

## 단점은 없는가?
* 단점은 존재한다.
* 바로 강한 결합이다.

## 강한 결합
* 유틸클래스를 사용하는 객체에서는 유틸클래스에 많은 영향을 받는다.
* 즉 유틸 클래스가 변경될 때마다 수정을 가해야한다.
* 즉 유연하게 객체를 유지하는것이 어려워진다.

## 그래도 쓴다 왜!!??
* 그 이유는 모둘화 때문이다.
* 모듈화에 집중하는 이유 중 하나는 
* 또한 유틸 클래스가 다른 객체를 의존하지 않는 장점도 있다.
* 또 재사용성이 뛰어나고 유지보수가 쉽기에 이러한 유틸 클래스를 사용한다.

## 대표적인 사용예시
* CommonUtils.java
* XxMapper.java
* XxUtils.java
* XxConstants.java

## 디렉토리 구조에 따른 장점 강화
* 도메인형 디렉토리 구조의 경우에는 Utils 클래스가 더욱 강점을 가진다.
* 유틸클래스를 통해서 모듈화를 더욱 극대화 할 수 있기 때문이다.
* 전역으로 쓰는 유틸(CommonUtils)
* 한 도메인에서 공통으로 쓰는 유틸(mapper, utils, constants)
* 도메인 안의 클래스들에서 쓰는 유틸(엔티티유틸, 리파지토리 유틸, 서비스 유틸, 컨트롤러 유틸)
* 다시 말해 전역 -> 도메인 전역 -> 클래스 전용
* 이렇게 다양하게 모듈화할 수 있는 강점을 가진다.
* 어플리케이션이 복잡해지면 복잡해질수록 도메인형 디렉토리 구조가 좋다.(위와 같은 이유로)
