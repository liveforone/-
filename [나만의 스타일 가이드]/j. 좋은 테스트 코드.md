# 좋은 테스트 코드

## 목차
1. 좋은 테스트 네이밍
2. 테스트는 단일 동작만 하라
3. given-when-then 패턴을 사용하라

## 1. 좋은 테스트 네이밍
* 직관적인 네이밍을 하여야한다.
* 무슨 테스트를 할것인지, 무엇을 의도 하고 있는지 정확하게 적어주는것이 좋다.
* 또한 이 테스트는 다른 어딘가에서 사용하는 메소드도 아니기때문에 네이밍이 길어져도 괜찮다.
* xxTest()가 가장 좋은 네이밍이다.

## 2. 테스트는 단일 동작만 하라
* 여러개의 테스트코드가 서로 공유하거나
* 서로 의존하거나
* 조건을 공유하는 코드는 별로 좋지 않다.
* 또한 여러 개의 assert 메소드를 사용는 경우가 있다. 
* 즉 여러값을 테스트 하는 것이다.
* 이렇게 하면 테스트 실패 시 디버깅이 오래 걸릴 수 있고,
* ‘하나의 테스트 케이스는 단위 기능 중 하나의 시나리오만 테스트하라’는 원칙도 어기게된다.
* 따라서 한 개의 테스트 케이스에 여러 개의 assertion을 넣고 싶다면 테스트를 더 잘게 쪼개면된다.

## 3. Given-When-Then 패턴을 사용하라
* 간단히 하면 given(어떤 상황이 주어지면)
* when(어떤 조건으로 실행한다)
* then(그리고 검증한다)

## 4. 도메인 테스트
* 도메인 모델 패턴을 사용해서 도메인로직은 엔티티에 두는경우에는 도메인도 테스트를 진행해야한다.
* 굳이 db단을 거치지 않고도 도메인 데스트도 하고, 서비스 계층도 테스트 하여 이중으로 안정성을 확보하면,
* 신뢰할 수 있는 코드를 만들 수 있으며, 개발이 즐거워진다.
* 또한 순수 자바코드라서 테스트가 아주 빠르다.

## 5. 트랜잭션 테스트
* @Transactional 테스트의 경우 롤백이 되는 등의 장점으로 가볍게 테스트하기 아주 좋다.
* 절대 나쁜테스트 방법이 아니니 적극 활용하라.
