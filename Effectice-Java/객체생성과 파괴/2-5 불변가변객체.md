# 불변 객체와 가변 객체
> 자바 빈즈 패턴은 객체의 일관성이 깨지고 클래스의 불변이 깨진다고 했다. 그렇다면 객체는 왜 불변이 깨져서는 안될까?

## 엔티티 - 불변객체
* 스프링, jpa에서 엔티티는 db와 밀접한 연관이 있는 객체이다.
* 엔티티는 영속하려는 목적으로 사용하는 객체로 엔티티에 값을 넣고, 빼는 것은 좋은 방법이 아니다.
* 처음에 스프링을 공부하면 컨트롤러로 받아온 요청, 응답을 엔티티에 setter를 작성해 처리하곤 한다.
* 이러한 db와 관련이 깊고 영속하는 엔티티는 객체의 일관성과 안정성을 보장해야하며 일관성과 불변을 깨뜨리는 자바빈즈패턴은 좋지 않다.
* 따라서 이런 엔티티 객체에는 빌더 패턴을 활용해 일관성과 불변을 유지하는 방법을 많이 사용하게 된다.

## DTO - 가변 객체
* 이러한 상황에서 탄생한 것이 바로 DTO이다.
* DTO는 계층 간 데이터 교환이 이루어질 수 있도록 하는 객체 이다.
* 컨트롤러 같이 뷰 단과 직접 마주하는 계층에서는 엔티티 대신 DTO를 사용해서 데이터를 교환하여 엔티티의 불변을 유지할 수 있게 도와준다.
* 또한 커맨드 객체 에서도 볼 수 있듯이 setter를 사용해서 dto가 뷰단으로 부터 간단하게 input을 처리할 수 있기때문에 더욱 dto와 엔티티로 분리하는 것은 좋은 습관이다.
